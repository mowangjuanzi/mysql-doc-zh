
<!DOCTYPE HTML>
<html lang="en" >
    <head>
        <meta charset="UTF-8">
        <title>Using More Than one Table · HonKit</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="HonKit 4.0.7">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/@honkit/honkit-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="getting-information.html" />
    
    
    <link rel="prev" href="counting-rows.html" />
    

    </head>
    <body>
        
<div class="book honkit-cloak">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="./">
            
                <a href="./">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="preface.html">
            
                <a href="preface.html">
            
                    
                    Preface and Legal Notices
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="installing.html">
            
                <a href="installing.html">
            
                    
                    Installing and Upgrading MySQL
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="linux-installation.html">
            
                <a href="linux-installation.html">
            
                    
                    Installing MySQL on Linux
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1.1" data-path="linux-installation-apt-repo.html">
            
                <a href="linux-installation-apt-repo.html">
            
                    
                    Installing MySQL on Linux Using the MySQL APT Repository
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2" data-path="linux-installation-docker.html">
            
                <a href="linux-installation-docker.html">
            
                    
                    Deploying MySQL on Linux with Docker
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1.2.1" data-path="docker-mysql-getting-started.html">
            
                <a href="docker-mysql-getting-started.html">
            
                    
                    Basic Steps for MySQL Server Deployment with Docker
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.2" data-path="docker-mysql-more-topics.html">
            
                <a href="docker-mysql-more-topics.html">
            
                    
                    More Topics on Deploying MySQL Server with Docker
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="tutorial.html">
            
                <a href="tutorial.html">
            
                    
                    Tutorial
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="connecting-disconnecting.html">
            
                <a href="connecting-disconnecting.html">
            
                    
                    Connecting to and Disconnecting from the Server
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="entering-queries.html">
            
                <a href="entering-queries.html">
            
                    
                    Entering Queries
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="database-use.html">
            
                <a href="database-use.html">
            
                    
                    Creating and Using a Database
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.3.1" data-path="creating-database.html">
            
                <a href="creating-database.html">
            
                    
                    Creating and Selecting a Database
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3.2" data-path="creating-tables.html">
            
                <a href="creating-tables.html">
            
                    
                    Creating a Table
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3.3" data-path="loading-tables.html">
            
                <a href="loading-tables.html">
            
                    
                    Loading Data into a Table
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3.4" data-path="retrieving-data.html">
            
                <a href="retrieving-data.html">
            
                    
                    Retrieving Information from a Table
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.3.4.1" data-path="selecting-all.html">
            
                <a href="selecting-all.html">
            
                    
                    Selecting All Data
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3.4.2" data-path="selecting-rows.html">
            
                <a href="selecting-rows.html">
            
                    
                    Selecting Particular Rows
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3.4.3" data-path="selecting-columns.html">
            
                <a href="selecting-columns.html">
            
                    
                    Selecting Particular Columns
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3.4.4" data-path="sorting-rows.html">
            
                <a href="sorting-rows.html">
            
                    
                    Sorting Rows
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3.4.5" data-path="date-calculations.html">
            
                <a href="date-calculations.html">
            
                    
                    Date Calculationsa
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3.4.6" data-path="working-with-null.html">
            
                <a href="working-with-null.html">
            
                    
                    Working with NULL Values
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3.4.7" data-path="pattern-matching.html">
            
                <a href="pattern-matching.html">
            
                    
                    Pattern Matching
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3.4.8" data-path="counting-rows.html">
            
                <a href="counting-rows.html">
            
                    
                    Counting Rows
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.4.3.4.9" data-path="multiple-tables.html">
            
                <a href="multiple-tables.html">
            
                    
                    Using More Than one Table
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="getting-information.html">
            
                <a href="getting-information.html">
            
                    
                    Getting Information About Databases and Tables
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="batch-mode.html">
            
                <a href="batch-mode.html">
            
                    
                    Using mysql in Batch Mode
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6" data-path="examples.html">
            
                <a href="examples.html">
            
                    
                    Examples of Common Queries
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.6.1" data-path="example-maximum-column.html">
            
                <a href="example-maximum-column.html">
            
                    
                    The Maximum Value for a Column
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6.2" data-path="example-maximum-row.html">
            
                <a href="example-maximum-row.html">
            
                    
                    The Row Holding the Maximum of a Certain Column
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6.3" data-path="example-maximum-column-group.html">
            
                <a href="example-maximum-column-group.html">
            
                    
                    Maximum of Column per Group
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6.4" data-path="example-maximum-column-group-row.html">
            
                <a href="example-maximum-column-group-row.html">
            
                    
                    The Rows Holding the Group-wise Maximum of a Certain Column
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6.5" data-path="example-user-variables.html">
            
                <a href="example-user-variables.html">
            
                    
                    Using User-Defined Variables
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6.6" data-path="example-foreign-keys.html">
            
                <a href="example-foreign-keys.html">
            
                    
                    Using Foreign Keys
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6.7" data-path="searching-on-two-keys.html">
            
                <a href="searching-on-two-keys.html">
            
                    
                    Searching on Two Keys
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6.8" data-path="calculating-days.html">
            
                <a href="calculating-days.html">
            
                    
                    Calculating Visits Per Day
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6.9" data-path="example-auto-increment.html">
            
                <a href="example-auto-increment.html">
            
                    
                    Using AUTO_INCREMENT
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4.7" data-path="apache.html">
            
                <a href="apache.html">
            
                    
                    Using MySQL with Apache
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="programs.html">
            
                <a href="programs.html">
            
                    
                    MySQL Programs
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="programs-client.html">
            
                <a href="programs-client.html">
            
                    
                    MySQL Client Programs
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1.1" data-path="mysql.html">
            
                <a href="mysql.html">
            
                    
                    mysql — The MySQL Command-Line Client
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="optimization.html">
            
                <a href="optimization.html">
            
                    
                    Optimization
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="optimize-overview.html">
            
                <a href="optimize-overview.html">
            
                    
                    Optimization Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="statement-optimization.html">
            
                <a href="statement-optimization.html">
            
                    
                    Optimizing SQL Statements
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.2.1" data-path="select-optimization.html">
            
                <a href="select-optimization.html">
            
                    
                    Optimizing SELECT Statements
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="optimization-indexes.html">
            
                <a href="optimization-indexes.html">
            
                    
                    Optimization and Indexes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="optimizing-database-structure.html">
            
                <a href="optimizing-database-structure.html">
            
                    
                    Optimizing Database Structure
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.5" data-path="optimizing-innodb.html">
            
                <a href="optimizing-innodb.html">
            
                    
                    Optimizing for InnoDB Tables
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.6" data-path="optimizing-myisam.html">
            
                <a href="optimizing-myisam.html">
            
                    
                    Optimizing for MyISAM Tables
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.7" data-path="optimizing-memory-tables.html">
            
                <a href="optimizing-memory-tables.html">
            
                    
                    Optimizing for MEMORY Tables
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.8" data-path="execution-plan-information.html">
            
                <a href="execution-plan-information.html">
            
                    
                    Understanding the Query Execution Plan
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.9" data-path="controlling-optimizer.html">
            
                <a href="controlling-optimizer.html">
            
                    
                    Controlling the Query Optimizer
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.10" data-path="buffering-caching.html">
            
                <a href="buffering-caching.html">
            
                    
                    Buffering and Caching
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.11" data-path="locking-issues.html">
            
                <a href="locking-issues.html">
            
                    
                    Optimizing Locking Operations
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.12" data-path="optimizing-server.html">
            
                <a href="optimizing-server.html">
            
                    
                    Optimizing the MySQL Server
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.13" data-path="optimize-benchmarking.html">
            
                <a href="optimize-benchmarking.html">
            
                    
                    Measuring Performance (Benchmarking)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.14" data-path="thread-information.html">
            
                <a href="thread-information.html">
            
                    
                    Examining Thread Information
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="data-types.html">
            
                <a href="data-types.html">
            
                    
                    Data Types
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="numeric-types.html">
            
                <a href="numeric-types.html">
            
                    
                    Numeric Data Types
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://github.com/honkit/honkit" target="blank" class="gitbook-link">
            Published with HonKit
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="." >Using More Than one Table</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h4 id="3349-使用多个表">3.3.4.9 使用多个表</h4>
<p>The <code>pet</code> table keeps track of which pets you have. If you want to record other information about them, such <a href="GLOSSARY.html#as" class="glossary-term" title="A Kerberos authentication server. AS can also refer to the authentication service provided by an authentication server.">as</a> events in their lives like visits to the vet or when litters are born, you need another table. What should this table look like? It needs to contain the following information:</p>
<ul>
<li><p>The pet name so that you know which animal each event pertains to.</p>
</li>
<li><p>A date so that you know when the event occurred.</p>
</li>
<li><p>A field to describe the event.</p>
</li>
<li><p>An event type field, if you want to be able to categorize events.</p>
</li>
</ul>
<p>Given these considerations, the <a href="https://dev.mysql.com/doc/refman/8.0/en/create-table.html" target="_blank"><code>CREATE TABLE</code></a> statement for the <code>event</code> table might look like this:</p>
<pre><code class="lang-sql">mysql<span class="hljs-operator">&gt;</span> <span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> event (name <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">20</span>), <span class="hljs-type">date</span> <span class="hljs-type">DATE</span>,
       type <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">15</span>), remark <span class="hljs-type">VARCHAR</span>(<span class="hljs-number">255</span>));
</code></pre>
<p><a href="GLOSSARY.html#as" class="glossary-term" title="A Kerberos authentication server. AS can also refer to the authentication service provided by an authentication server.">As</a> with the <code>pet</code> table, it is easiest to load the initial records by creating a tab-delimited text file containing the following information.</p>
<table>
<thead>
<tr>
<th style="text-align:center">name</th>
<th style="text-align:center">date</th>
<th style="text-align:center">type</th>
<th style="text-align:center">remark</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Fluffy</td>
<td style="text-align:center">1995-05-15</td>
<td style="text-align:center">litter</td>
<td style="text-align:center">4 kittens, 3 female, 1 male</td>
</tr>
<tr>
<td style="text-align:center">Buffy</td>
<td style="text-align:center">1993-06-23</td>
<td style="text-align:center">litter</td>
<td style="text-align:center">5 puppies, 2 female, 3 male</td>
</tr>
<tr>
<td style="text-align:center">Buffy</td>
<td style="text-align:center">1994-06-19</td>
<td style="text-align:center">litter</td>
<td style="text-align:center">3 puppies, 3 female</td>
</tr>
<tr>
<td style="text-align:center">Chirpy</td>
<td style="text-align:center">1999-03-21</td>
<td style="text-align:center">vet</td>
<td style="text-align:center">needed beak straightened</td>
</tr>
<tr>
<td style="text-align:center">Slim</td>
<td style="text-align:center">1997-08-03</td>
<td style="text-align:center">vet</td>
<td style="text-align:center">broken rib</td>
</tr>
<tr>
<td style="text-align:center">Bowser</td>
<td style="text-align:center">1991-10-12</td>
<td style="text-align:center">kennel</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">Fang</td>
<td style="text-align:center">1991-10-12</td>
<td style="text-align:center">kennel</td>
<td style="text-align:center"></td>
</tr>
<tr>
<td style="text-align:center">Fang</td>
<td style="text-align:center">1998-08-28</td>
<td style="text-align:center">birthday</td>
<td style="text-align:center">Gave him a new chew toy</td>
</tr>
<tr>
<td style="text-align:center">Claws</td>
<td style="text-align:center">1998-03-17</td>
<td style="text-align:center">birthday</td>
<td style="text-align:center">Gave him a new flea collar</td>
</tr>
<tr>
<td style="text-align:center">Whistler</td>
<td style="text-align:center">1998-12-09</td>
<td style="text-align:center">birthday</td>
<td style="text-align:center">First birthday</td>
</tr>
</tbody>
</table>
<p>Load the records like this:</p>
<pre><code class="lang-sql">mysql<span class="hljs-operator">&gt;</span> LOAD DATA <span class="hljs-keyword">LOCAL</span> INFILE <span class="hljs-string">&apos;event.txt&apos;</span> <span class="hljs-keyword">INTO</span> <span class="hljs-keyword">TABLE</span> event;
</code></pre>
<p>Based on what you have learned from the queries that you have run on the <code>pet</code> table, you should be able to perform retrievals on the records in the <code>event</code> table; the principles are the same. But when is the <code>event</code> table by itself insufficient to answer questions you might ask?</p>
<p>Suppose that you want to find out the ages at which each pet had its litters. We saw earlier how to calculate ages from two dates. The litter date of the mother is in the <code>event</code> table, but to calculate her age on that date you need her birth date, which is stored in the <code>pet</code> table. This means the <a href="GLOSSARY.html#query" class="glossary-term" title="In SQL, an operation that reads information from one or more tables. Depending on the organization of data and the parameters of the query, the lookup might be optimized by consulting an index. If multiple tables are involved, the query is known as a join.">query</a> requires both tables:</p>
<pre><code class="lang-sql">mysql<span class="hljs-operator">&gt;</span> <span class="hljs-keyword">SELECT</span> pet.name,
       TIMESTAMPDIFF(<span class="hljs-keyword">YEAR</span>,birth,<span class="hljs-type">date</span>) <span class="hljs-keyword">AS</span> age,
       remark
       <span class="hljs-keyword">FROM</span> pet <span class="hljs-keyword">INNER</span> <span class="hljs-keyword">JOIN</span> event
         <span class="hljs-keyword">ON</span> pet.name <span class="hljs-operator">=</span> event.name
       <span class="hljs-keyword">WHERE</span> event.type <span class="hljs-operator">=</span> <span class="hljs-string">&apos;litter&apos;</span>;
<span class="hljs-operator">+</span><span class="hljs-comment">--------+------+-----------------------------+</span>
<span class="hljs-operator">|</span> name   <span class="hljs-operator">|</span> age  <span class="hljs-operator">|</span> remark                      <span class="hljs-operator">|</span>
<span class="hljs-operator">+</span><span class="hljs-comment">--------+------+-----------------------------+</span>
<span class="hljs-operator">|</span> Fluffy <span class="hljs-operator">|</span>    <span class="hljs-number">2</span> <span class="hljs-operator">|</span> <span class="hljs-number">4</span> kittens, <span class="hljs-number">3</span> female, <span class="hljs-number">1</span> male <span class="hljs-operator">|</span>
<span class="hljs-operator">|</span> Buffy  <span class="hljs-operator">|</span>    <span class="hljs-number">4</span> <span class="hljs-operator">|</span> <span class="hljs-number">5</span> puppies, <span class="hljs-number">2</span> female, <span class="hljs-number">3</span> male <span class="hljs-operator">|</span>
<span class="hljs-operator">|</span> Buffy  <span class="hljs-operator">|</span>    <span class="hljs-number">5</span> <span class="hljs-operator">|</span> <span class="hljs-number">3</span> puppies, <span class="hljs-number">3</span> female         <span class="hljs-operator">|</span>
<span class="hljs-operator">+</span><span class="hljs-comment">--------+------+-----------------------------+</span>
</code></pre>
<p>There are several things to note about this <a href="GLOSSARY.html#query" class="glossary-term" title="In SQL, an operation that reads information from one or more tables. Depending on the organization of data and the parameters of the query, the lookup might be optimized by consulting an index. If multiple tables are involved, the query is known as a join.">query</a>:</p>
<ul>
<li><p>The <code>FROM</code> clause joins two tables because the <a href="GLOSSARY.html#query" class="glossary-term" title="In SQL, an operation that reads information from one or more tables. Depending on the organization of data and the parameters of the query, the lookup might be optimized by consulting an index. If multiple tables are involved, the query is known as a join.">query</a> needs to pull information from both of them.</p>
</li>
<li><p>When combining (<code>joining</code>) information from multiple tables, you need to specify how records in one table can be matched to records in the other. This is easy because they both have a <code>name</code> <a href="GLOSSARY.html#column" class="glossary-term" title="A data item within a row, whose storage and semantics are defined by a data type. Each table and index is largely defined by the set of columns it contains.">column</a>. The <a href="GLOSSARY.html#query" class="glossary-term" title="In SQL, an operation that reads information from one or more tables. Depending on the organization of data and the parameters of the query, the lookup might be optimized by consulting an index. If multiple tables are involved, the query is known as a join.">query</a> uses an <code>ON</code> clause to match up records in the two tables based on the <code>name</code> values.</p>
</li>
</ul>
<p>The <a href="GLOSSARY.html#query" class="glossary-term" title="In SQL, an operation that reads information from one or more tables. Depending on the organization of data and the parameters of the query, the lookup might be optimized by consulting an index. If multiple tables are involved, the query is known as a join.">query</a> uses an <code>INNER JOIN</code> to combine the tables. An <code>INNER JOIN</code> permits rows from either table to appear in the result if and only if both tables meet the conditions specified in the <code>ON</code> clause. In this example, the <code>ON</code> clause specifies that the <code>name</code> <a href="GLOSSARY.html#column" class="glossary-term" title="A data item within a row, whose storage and semantics are defined by a data type. Each table and index is largely defined by the set of columns it contains.">column</a> in the <code>pet</code> table must match the <code>name</code> <a href="GLOSSARY.html#column" class="glossary-term" title="A data item within a row, whose storage and semantics are defined by a data type. Each table and index is largely defined by the set of columns it contains.">column</a> in the <code>event</code> table. If a name appears in one table but not the other, the row will not appear in the result because the condition in the <code>ON</code> clause fails.</p>
<ul>
<li>Because the <code>name</code> <a href="GLOSSARY.html#column" class="glossary-term" title="A data item within a row, whose storage and semantics are defined by a data type. Each table and index is largely defined by the set of columns it contains.">column</a> occurs in both tables, you must be specific about which table you mean when referring to the <a href="GLOSSARY.html#column" class="glossary-term" title="A data item within a row, whose storage and semantics are defined by a data type. Each table and index is largely defined by the set of columns it contains.">column</a>. This is done by prepending the table name to the <a href="GLOSSARY.html#column" class="glossary-term" title="A data item within a row, whose storage and semantics are defined by a data type. Each table and index is largely defined by the set of columns it contains.">column</a> name.</li>
</ul>
<p>You need not have two different tables to perform a join. Sometimes it is useful to join a table to itself, if you want to compare records in a table to other records in that same table. For example, to find breeding pairs among your pets, you can join the <code>pet</code> table with itself to produce candidate pairs of live males and females of like species:</p>
<pre><code class="lang-sql">mysql<span class="hljs-operator">&gt;</span> <span class="hljs-keyword">SELECT</span> p1.name, p1.sex, p2.name, p2.sex, p1.species
       <span class="hljs-keyword">FROM</span> pet <span class="hljs-keyword">AS</span> p1 <span class="hljs-keyword">INNER</span> <span class="hljs-keyword">JOIN</span> pet <span class="hljs-keyword">AS</span> p2
         <span class="hljs-keyword">ON</span> p1.species <span class="hljs-operator">=</span> p2.species
         <span class="hljs-keyword">AND</span> p1.sex <span class="hljs-operator">=</span> <span class="hljs-string">&apos;f&apos;</span> <span class="hljs-keyword">AND</span> p1.death <span class="hljs-keyword">IS</span> <span class="hljs-keyword">NULL</span>
         <span class="hljs-keyword">AND</span> p2.sex <span class="hljs-operator">=</span> <span class="hljs-string">&apos;m&apos;</span> <span class="hljs-keyword">AND</span> p2.death <span class="hljs-keyword">IS</span> <span class="hljs-keyword">NULL</span>;
<span class="hljs-operator">+</span><span class="hljs-comment">--------+------+-------+------+---------+</span>
<span class="hljs-operator">|</span> name   <span class="hljs-operator">|</span> sex  <span class="hljs-operator">|</span> name  <span class="hljs-operator">|</span> sex  <span class="hljs-operator">|</span> species <span class="hljs-operator">|</span>
<span class="hljs-operator">+</span><span class="hljs-comment">--------+------+-------+------+---------+</span>
<span class="hljs-operator">|</span> Fluffy <span class="hljs-operator">|</span> f    <span class="hljs-operator">|</span> Claws <span class="hljs-operator">|</span> m    <span class="hljs-operator">|</span> cat     <span class="hljs-operator">|</span>
<span class="hljs-operator">|</span> Buffy  <span class="hljs-operator">|</span> f    <span class="hljs-operator">|</span> Fang  <span class="hljs-operator">|</span> m    <span class="hljs-operator">|</span> dog     <span class="hljs-operator">|</span>
<span class="hljs-operator">+</span><span class="hljs-comment">--------+------+-------+------+---------+</span>
</code></pre>
<p>In this <a href="GLOSSARY.html#query" class="glossary-term" title="In SQL, an operation that reads information from one or more tables. Depending on the organization of data and the parameters of the query, the lookup might be optimized by consulting an index. If multiple tables are involved, the query is known as a join.">query</a>, we specify aliases for the table name to refer to the columns and keep straight which instance of the table each <a href="GLOSSARY.html#column" class="glossary-term" title="A data item within a row, whose storage and semantics are defined by a data type. Each table and index is largely defined by the set of columns it contains.">column</a> reference is associated with.</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="counting-rows.html" class="navigation navigation-prev " aria-label="Previous page: Counting Rows">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="getting-information.html" class="navigation navigation-next " aria-label="Next page: Getting Information About Databases and Tables">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Using More Than one Table","level":"1.4.3.4.9","depth":4,"next":{"title":"Getting Information About Databases and Tables","level":"1.4.4","depth":2,"path":"getting-information.md","ref":"getting-information.md","articles":[]},"previous":{"title":"Counting Rows","level":"1.4.3.4.8","depth":4,"path":"counting-rows.md","ref":"counting-rows.md","articles":[]},"dir":"ltr"},"config":{"plugins":[],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56},"embedFonts":false},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"language":"en","gitbook":"*"},"file":{"path":"multiple-tables.md","mtime":"2023-05-27T13:02:39.318Z","type":"markdown"},"gitbook":{"version":"4.0.7","time":"2023-05-27T13:02:45.779Z"},"basePath":".","book":{"language":"en"}});
        });
    </script>
</div>

        
    <noscript>
        <style>
            .honkit-cloak {
                display: block !important;
            }
        </style>
    </noscript>
    <script>
        // Restore sidebar state as critical path for prevent layout shift
        function __init__getSidebarState(defaultValue){
            var baseKey = "";
            var key = baseKey + ":sidebar";
            try {
                var value = localStorage[key];
                if (value === undefined) {
                    return defaultValue;
                }
                var parsed = JSON.parse(value);
                return parsed == null ? defaultValue : parsed;
            } catch (e) {
                return defaultValue;
            }
        }
        function __init__restoreLastSidebarState() {
            var isMobile = window.matchMedia("(max-width: 600px)").matches;
            if (isMobile) {
                // Init last state if not mobile
                return;
            }
            var sidebarState = __init__getSidebarState(true);
            var book = document.querySelector(".book");
            // Show sidebar if it enabled
            if (sidebarState && book) {
                book.classList.add("without-animation", "with-summary");
            }
        }

        try {
            __init__restoreLastSidebarState();
        } finally {
            var book = document.querySelector(".book");
            book.classList.remove("honkit-cloak");
        }
    </script>
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

